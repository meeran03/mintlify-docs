---
title: 'Graph Analytics'
api: 'GET /api/v1/assistant-graphs/{graph_id}/analytics'
description: 'Get usage statistics and performance metrics for an assistant graph'
---

Retrieve analytics data for a specific assistant graph, including usage statistics, transition patterns, and performance metrics over a specified time period.

## Path Parameters

<ParamField path="graph_id" type="integer" required>
  The unique identifier of the graph.
</ParamField>

## Query Parameters

<ParamField query="days" type="integer" default="30">
  Number of days to analyze. Must be between 1 and 365.
</ParamField>

## Response

<ResponseField name="graph_id" type="integer">
  The graph ID.
</ResponseField>

<ResponseField name="graph_name" type="string">
  Name of the graph.
</ResponseField>

<ResponseField name="period_days" type="integer">
  Number of days analyzed.
</ResponseField>

<ResponseField name="total_sessions" type="integer">
  Total number of conversation sessions during the period.
</ResponseField>

<ResponseField name="total_transitions" type="integer">
  Total number of assistant transitions during the period.
</ResponseField>

<ResponseField name="avg_session_duration" type="number">
  Average session duration in seconds.
</ResponseField>

<ResponseField name="most_used_transitions" type="array">
  List of most frequently used transition paths.
</ResponseField>

<ResponseField name="node_usage_stats" type="object">
  Usage statistics broken down by node.
</ResponseField>

<RequestExample>
```bash cURL
curl "https://api.burki.dev/api/v1/assistant-graphs/1/analytics?days=30" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

```bash cURL (7 days)
curl "https://api.burki.dev/api/v1/assistant-graphs/1/analytics?days=7" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

```python Python
import requests

response = requests.get(
    "https://api.burki.dev/api/v1/assistant-graphs/1/analytics",
    headers={"Authorization": "Bearer YOUR_API_KEY"},
    params={"days": 30}
)

analytics = response.json()
print(f"Total sessions: {analytics['total_sessions']}")
print(f"Total transitions: {analytics['total_transitions']}")
print(f"Avg duration: {analytics['avg_session_duration']}s")
```

```javascript JavaScript
const params = new URLSearchParams({ days: '30' });

const response = await fetch(
  `https://api.burki.dev/api/v1/assistant-graphs/1/analytics?${params}`,
  {
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY'
    }
  }
);

const analytics = await response.json();
console.log(`Total sessions: ${analytics.total_sessions}`);
console.log(`Total transitions: ${analytics.total_transitions}`);
console.log(`Avg duration: ${analytics.avg_session_duration}s`);
```
</RequestExample>

<ResponseExample>
```json Response
{
  "graph_id": 1,
  "graph_name": "Customer Service Router",
  "period_days": 30,
  "total_sessions": 1250,
  "total_transitions": 2180,
  "avg_session_duration": 245,
  "most_used_transitions": [
    {
      "from_node": "Receptionist",
      "to_node": "Support Agent",
      "count": 890,
      "percentage": 40.8
    },
    {
      "from_node": "Receptionist",
      "to_node": "Sales Specialist",
      "count": 720,
      "percentage": 33.0
    },
    {
      "from_node": "Support Agent",
      "to_node": "Human Escalation",
      "count": 180,
      "percentage": 8.3
    }
  ],
  "node_usage_stats": {
    "101": {
      "node_name": "Receptionist",
      "sessions_started": 1250,
      "avg_time_in_node": 45,
      "exit_rate": 0.0
    },
    "102": {
      "node_name": "Sales Specialist",
      "sessions_started": 720,
      "avg_time_in_node": 180,
      "exit_rate": 0.85
    },
    "103": {
      "node_name": "Support Agent",
      "sessions_started": 890,
      "avg_time_in_node": 150,
      "exit_rate": 0.80
    },
    "104": {
      "node_name": "Human Escalation",
      "sessions_started": 180,
      "avg_time_in_node": 0,
      "exit_rate": 1.0
    }
  }
}
```
</ResponseExample>

## Understanding the Metrics

### Session Metrics

| Metric | Description |
|--------|-------------|
| `total_sessions` | Number of unique conversations that used this graph |
| `avg_session_duration` | Average time from session start to end (seconds) |

### Transition Metrics

| Metric | Description |
|--------|-------------|
| `total_transitions` | Total number of times conversations moved between assistants |
| `most_used_transitions` | Ranking of most common assistant-to-assistant paths |

### Node Usage Stats

| Metric | Description |
|--------|-------------|
| `sessions_started` | Number of sessions where this node was active |
| `avg_time_in_node` | Average time spent with this assistant (seconds) |
| `exit_rate` | Percentage of sessions that ended at this node |

## Use Cases for Analytics

<AccordionGroup>
  <Accordion title="Identify Bottlenecks" icon="traffic-cone">
    High `avg_time_in_node` for a specific assistant may indicate:
    - Complex issues that need better tooling
    - Knowledge gaps requiring additional training
    - Need for more specialized assistants
  </Accordion>
  
  <Accordion title="Optimize Routing" icon="route">
    Analyze `most_used_transitions` to:
    - Identify if entry conditions are working as expected
    - Find opportunities to streamline common paths
    - Validate that intents are being detected correctly
  </Accordion>
  
  <Accordion title="Reduce Escalations" icon="arrow-down">
    Monitor escalation node usage to:
    - Track escalation rates over time
    - Identify which paths lead to escalations
    - Measure impact of improvements
  </Accordion>
  
  <Accordion title="Capacity Planning" icon="chart-line">
    Use session volumes to:
    - Plan for peak hours
    - Allocate human agent resources
    - Justify investment in specialized assistants
  </Accordion>
</AccordionGroup>

## Error Responses

| Status Code | Description |
|-------------|-------------|
| 401 | Unauthorized - Invalid or missing API key |
| 404 | Graph not found in your organization |
| 500 | Server error retrieving analytics |

<Note>
Analytics data is aggregated asynchronously. Recent sessions (within the last few minutes) may not be reflected in the analytics immediately.
</Note>
